from rich.console import Console
import keyboard

console = Console()

map = [
    list('111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'),
    list('111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'),
]


def print_map() -> None:
    for i in range(len(map)):
        for j in range(len(map[i])):
            if map[i][j] == '0':
                console.print(' ', end='')
            elif map[i][j] == '1':
                console.print(' ', style='white on white', end='')
            elif map[i][j] == '2':
                console.print(' ', style='white on blue', end='')
    console.print()


class Player:
    def __init__(self):
        self.position_x = int(input('pos on x: '))
        self.position_y = int(input('pos on y: '))
        map[self.position_y][self.position_x] = '2'
        print_map()

    def move_up(self):
        if self.position_y - 1 != 1:
            map[self.position_y][self.position_x] = '0'
            self.position_y -= 1
            map[self.position_y][self.position_x] = '2'
        print_map()

    def move_down(self):
        if self.position_y + 1 != 1:
            map[self.position_y][self.position_x] = '0'
            self.position_y += 1
            map[self.position_y][self.position_x] = '2'
        print_map()

    def move_right(self):
        if self.position_x + 1 != 1:
            map[self.position_y][self.position_x] = '0'
            self.position_x += 1
            map[self.position_y][self.position_x] = '2'
        print_map()

    def move_left(self):
        if self.position_x - 1 != 1:
            map[self.position_y][self.position_x] = '0'
            self.position_x -= 1
            map[self.position_y][self.position_x] = '2'
        print_map()


player = Player()

console.print('tap [white on blue bold]w[/white on blue bold] to move up')
console.print('tap [white on blue bold]a[/white on blue bold] to move left')
console.print('tap [white on blue bold]s[/white on blue bold] to move down')
console.print('tap [white on blue bold]d[/white on blue bold] to move right')
console.print('or tap [white on red]q[/white on red] to leave')


while True:
    key = keyboard.read_key()
    if key == 'w':
        player.move_up()
    elif key == 's':
        player.move_down()
    elif key == 'd':
        player.move_right()
    elif key == 'a':
        player.move_left()
    else:
        break
